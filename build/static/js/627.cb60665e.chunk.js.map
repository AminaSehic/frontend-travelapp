{"version":3,"file":"static/js/627.cb60665e.chunk.js","mappings":"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","sources":["components/Button.js","components/Errors.js","components/Title.js","components/ValidationError.js","pages/Signin.js","hooks/useLogin.js","utils/validateData.js"],"sourcesContent":["import styled, { css, keyframes } from \"styled-components\";\n\n// Spinner Animation\nconst spin = keyframes`\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n`;\n\n// Styled Spinner\nexport const ButtonSpinner = styled.div`\n  border: 4px solid rgba(255, 255, 255, 0.3);\n  border-top: 4px solid black;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: ${spin} 1s linear infinite;\n  margin: 0 auto;\n`;\nconst Button = styled.button`\n  border: 1px solid;\n  border-radius: ${(props) =>\n    props.borderRadius ? props.borderRadius : \"15px\"};\n  font-size: 1.1rem;\n  padding: 5px 15px;\n  cursor: pointer;\n  &:hover {\n    scale: 1.05;\n  }\n  &:focus {\n    background: rgba(0, 0, 0, 0.7);\n  }\n\n  ${(props) =>\n    props.loading &&\n    css`\n      cursor: not-allowed;\n      opacity: 0.7;\n      &:hover {\n        scale: 1;\n      }\n    `}\n`;\n\nexport default Button;\n","import styled from \"styled-components\";\n\nconst Errors = (props) => {\n  return <ErrorsField>{props.children}</ErrorsField>;\n};\n\nconst ErrorsField = styled.div`\n  color: red;\n  border: 1px solid;\n  border-radius: 10px;\n  margin: 10px;\n  padding: 5px;\n  font-size: 0.9rem;\n`;\n\nexport default Errors;\n","import styled from \"styled-components\";\n\nconst Title = styled.h3`\n    color: #000;\n    font-weight: 500;\n    font-size: 20px;\n    line-height: 24px;\n    font-weight: bold;\n`\n\nexport default Title;","import styled from \"styled-components\";\n\nconst ValidationErrorField = styled.div`\n  color: red;\n  font-size: 0.8rem;\n  margin-top: ${(props) => props.marginTop || -10}px;\n`;\n\nconst ValidationError = (props) => {\n  return (\n    <ValidationErrorField marginTop={props.marginTop}>\n      {props.children}\n    </ValidationErrorField>\n  );\n};\n\nexport default ValidationError;\n","import React, { useContext, useState } from \"react\";\nimport { AuthContext as authContext } from \"../context/authContext\";\nimport styled from \"styled-components\";\nimport Button, { ButtonSpinner } from \"../components/Button\";\nimport Title from \"../components/Title\";\n\nimport Image from \"../images/logo2.jpg\";\n\nimport { useRef } from \"react\";\nimport { useLocation, useNavigate } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n  validatePassword,\n  validateInput,\n  validateEmail,\n} from \"../utils/validateData\";\nimport ValidationError from \"../components/ValidationError\";\nimport Errors from \"../components/Errors\";\nimport { useLogin } from \"../hooks/useLogin\";\n\nconst SignIn = (props) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const context = useContext(authContext);\n  const [error, setError] = useState(\"\");\n  const { mutateAsync, isLoading } = useLogin({\n    onError: (error) => {\n      // Assuming error contains a message, adjust as needed\n      // console.log(\"error:error\", error.response.data.message);\n      setError(\n        error.response.data.message || \"An error occurred during login.\"\n      );\n    },\n  });\n\n  const username = useRef(null);\n  const password = useRef(null);\n\n  const [usernameValidation, setUsernameValidation] = useState(\"\");\n  const [passwordValidation, setPasswordValidation] = useState(\"\");\n\n  const onSubmitHandler = async (event) => {\n    event.preventDefault();\n\n    const value = {\n      email: username.current.value,\n      password: password.current.value,\n    };\n\n    const emailVal = validateEmail(value.email);\n    const passVal = validatePassword(value.password, true);\n    setUsernameValidation(emailVal);\n    setPasswordValidation(passVal);\n\n    if (!passVal && !emailVal) {\n      await mutateAsync({\n        email: value.email,\n        password: value.password,\n      });\n      navigate(location.state?.path || \"/all-posts\");\n    }\n  };\n\n  return (\n    <>\n      <Wrapper>\n        <FormWrapper onSubmit={onSubmitHandler}>\n          {/* <ImageWrapper> */}\n          <img\n            src={Image}\n            style={{ width: \"85px\", cursor: \"pointer\" }}\n            alt=\"ETF Logo\"\n            onClick={() => {\n              navigate(\"/\");\n            }}\n          />\n          {/* </ImageWrapper> */}\n          <Title>Sign in</Title>\n          <ContentWrapper></ContentWrapper>\n          <InputField\n            ref={username}\n            placeholder=\"Enter email\"\n            type=\"text\"\n            style={{ marginBottom: \"15px\" }}\n          />\n          {usernameValidation && (\n            <ValidationError>{usernameValidation}</ValidationError>\n          )}\n          <InputField\n            ref={password}\n            placeholder=\"Enter password\"\n            type=\"password\"\n            style={{ marginBottom: \"15px\" }}\n          />\n          {passwordValidation && (\n            <ValidationError>{passwordValidation}</ValidationError>\n          )}\n          {!!error && (\n            <Errors>\n              {error}\n              {/* {error.message.includes(\"username\") && (\n                <strong>{username.current.value}</strong>\n              )} */}\n            </Errors>\n          )}\n          <Button\n            style={{\n              background: \"#ff9800\",\n              color: \"#ffffff\",\n              padding: \"5px 90px\",\n            }}\n          >\n            {isLoading ? <ButtonSpinner /> : \"SIGN IN\"}\n          </Button>\n\n          <ContentWrapper>\n            Don't have an account{\" \"}\n            <LinkNavigate to=\"/signup\">Sign up</LinkNavigate>\n          </ContentWrapper>\n        </FormWrapper>\n      </Wrapper>\n    </>\n  );\n};\n\nconst LinkNavigate = styled(Link)`\n  text-decoration: none;\n  color: #2196f3;\n  cursor: pointer;\n  outline-color: #2196f3;\n`;\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  margin: 0;\n  text-align: center;\n  padding-top: 5rem;\n`;\n\nconst FormWrapper = styled.form`\n  width: 20%;\n  height: auto;\n  margin: 0 auto;\n  background-color: #ffffff;\n  border-radius: 20px;\n  text-align: center;\n  padding: 60px 100px;\n\n  box-shadow: 0px 2px 16px hsl(260deg 50% 10% / 0.99);\n`;\n\nconst InputField = styled.input`\n  border: 1px solid;\n  border-radius: 15px;\n  line-height: 1.15;\n  font-size: 1.1rem;\n  padding: 5px 15px;\n  border-color: 1px solid #c6d2d9;\n  font-family: inherit;\n\n  // width: 90%;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nconst ImageWrapper = styled.a`\n  text-align: center;\n  width: 30px;\n  height: 30px;\n`;\n\nconst ContentWrapper = styled.p`\n  text-align: center;\n`;\n\nconst LinkTag = styled.a`\n  color: #2196f3;\n  cursor: pointer;\n  outline-color: #2196f3;\n`;\n\n// const Button = styled.button`\n//   border: 1px solid;\n//   border-radius: 15px;\n//   font-size: 1.1rem;\n//   padding: 5px 15px;\n//   background: #ff9800;\n//   color: #ffffff;\n//   cursor: pointer;\n// `;\n\nexport default SignIn;\n","import { useMutation } from \"react-query\";\nimport { loginUser } from \"../service/user.service\";\nimport { useAuthContext } from \"./useAuthContext\";\nimport { toast } from \"react-toastify\";\n\nexport const useLogin = (props) => {\n  const authContext = useAuthContext();\n\n  return useMutation(loginUser, {\n    onSuccess: ({ data }) => {\n      toast(\"You're successfully logged in.\");\n      authContext.login(data.user);\n      localStorage.setItem(\"email\", data.user.email);\n      localStorage.setItem(\"authToken\", data.user.token);\n      localStorage.setItem(\n        \"name\",\n        `${data.user.firstName} ${data.user.firstName}`\n      );\n    },\n    ...props,\n  });\n};\n","export const validateEmail = (email) => {\n  if (!email.length) {\n    return \"Email field can not be empty!\";\n  }\n  if (\n    !email.match(\n      /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n    )\n  ) {\n    return \"Email is not valid!\";\n  }\n  return \"\";\n};\n\nexport const validateInput = (input, field, isSignin) => {\n  if (isSignin) {\n    if (!input.length) {\n      return `${field} field can not be empty!`;\n    }\n    return \"\";\n  }\n  if (input.length < 5) {\n    return `${field} field should have at least 5 characters!`;\n  }\n  if (input.length > 10) {\n    return `${field} field should have less than 10 characters!`;\n  }\n  return \"\";\n};\n\nexport const validatePassword = (password, onLogin) => {\n  if (!password.length) {\n    return \"Password field can not be empty!\";\n  }\n  if (password.length < 8 && !onLogin) {\n    return \"Password should have at least 8 characters!\";\n  }\n  return \"\";\n};\n"],"names":["spin","keyframes","_templateObject","_taggedTemplateLiteral","ButtonSpinner","styled","div","_templateObject2","button","_templateObject3","props","borderRadius","loading","css","_templateObject4","ErrorsField","_jsx","children","h3","ValidationErrorField","marginTop","LinkNavigate","Link","Wrapper","FormWrapper","form","InputField","input","ContentWrapper","a","_templateObject5","p","_templateObject6","_templateObject7","navigate","useNavigate","location","useLocation","error","setError","useContext","authContext","useState","mutateAsync","isLoading","useAuthContext","useMutation","loginUser","onSuccess","_ref","data","toast","login","user","localStorage","setItem","email","token","concat","firstName","useLogin","onError","response","message","username","useRef","password","usernameValidation","setUsernameValidation","passwordValidation","setPasswordValidation","_Fragment","_jsxs","onSubmit","async","event","preventDefault","value","current","emailVal","validateEmail","passVal","validatePassword","_location$state","state","path","src","Image","style","width","cursor","alt","onClick","Title","ref","placeholder","type","marginBottom","ValidationError","Errors","Button","background","color","padding","to","length","match","validateInput","field","isSignin","onLogin"],"sourceRoot":""}