"use strict";(self.webpackChunkzav=self.webpackChunkzav||[]).push([[346],{4453:(n,e,t)=>{t.d(e,{X:()=>c,Z:()=>p});var r,a,i,s,o=t(168),d=t(1191);const l=(0,d.F4)(r||(r=(0,o.Z)(["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n"]))),c=d.ZP.div(a||(a=(0,o.Z)(["\n  border: 4px solid rgba(255, 255, 255, 0.3);\n  border-top: 4px solid black;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: "," 1s linear infinite;\n  margin: 0 auto;\n"])),l),p=d.ZP.button(i||(i=(0,o.Z)(["\n  border: 1px solid;\n  border-radius: ",";\n  font-size: 1.1rem;\n  padding: 5px 15px;\n  cursor: pointer;\n  &:hover {\n    scale: 1.05;\n  }\n  &:focus {\n    background: rgba(0, 0, 0, 0.7);\n  }\n\n  ","\n"])),(n=>n.borderRadius?n.borderRadius:"15px"),(n=>n.loading&&(0,d.iv)(s||(s=(0,o.Z)(["\n      cursor: not-allowed;\n      opacity: 0.7;\n      &:hover {\n        scale: 1;\n      }\n    "])))))},6075:(n,e,t)=>{t.d(e,{Z:()=>d});var r,a=t(168),i=t(1191),s=t(184);const o=i.ZP.div(r||(r=(0,a.Z)(["\n  color: red;\n  border: 1px solid;\n  border-radius: 10px;\n  margin: 10px;\n  padding: 5px;\n  font-size: 0.9rem;\n"]))),d=n=>(0,s.jsx)(o,{children:n.children})},1741:(n,e,t)=>{t.d(e,{Z:()=>o});var r=t(7948),a=t.n(r),i=t(184);const s={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},o=n=>{let{children:e,...t}=n;const{modalIsOpen:r,setIsOpen:o}=t;return(0,i.jsx)(a(),{isOpen:r,onRequestClose:function(){o(!1)},style:s,contentLabel:"Example Modal",children:e})}},8469:(n,e,t)=>{t.d(e,{Z:()=>Z});var r=t(168),a=t(7689),i=t(1087),s=t(1191),o=t(6849),d=t(1933),l=t(7749);var c,p,x,u,m=t(1713),h=t(2791),g=t(184);const f=s.ZP.div(c||(c=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),b=s.ZP.button(p||(p=(0,r.Z)(["\n  background-color: transparent;\n  cursor: pointer;\n  border-radius: 10px;\n  color: #ffffff;\n  text-decoration: none;\n  padding: 10px 5px;\n  margin: 0px 20px;\n  font-size: 1.25rem;\n\n  &:hover {\n    color: #b392ee;\n    scale: 1.1;\n    // font-weight: bold;\n  }\n  &:focus {\n    /* text-decoration: underline; */\n    border: 2px solid black;\n    border-radius: 10px;\n    font-weight: bold;\n  }\n"]))),w=(0,s.ZP)(i.rU)(x||(x=(0,r.Z)(["\n  color: #ffffff;\n  text-decoration: none;\n  padding: 10px 5px;\n  margin: 0px 20px;\n  font-size: 1.25rem;\n\n  &:hover {\n    color: #b392ee;\n    scale: 1.1;\n    // font-weight: bold;\n  }\n  &:focus {\n    /* text-decoration: underline; */\n    border: 2px solid black;\n    border-radius: 10px;\n    font-weight: bold;\n  }\n"]))),v=s.ZP.div(u||(u=(0,r.Z)(["\n  background: #343a40;\n  padding: 2px 12px;\n  color: #ffffff;\n  width: 100%;\n  position: fixed;\n  z-index: 2;\n  height: 3.5rem;\n  box-shadow: 0 7px 12px 0 rgba(0, 0, 0, 0.2);\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),Z=n=>{const e=(0,o.E)().user,t=(0,a.TH)(),r=(()=>{const n=(0,o.E)();return(0,d.useMutation)(l.TX,{onError:n=>{},onSuccess:e=>{let{data:t}=e;n.logout()}})})(),[i,s]=(0,h.useState)(!1);return(0,g.jsxs)(v,{children:[(0,g.jsxs)("span",{children:[(0,g.jsx)(w,{to:"/all-posts",children:"All Posts"}),(0,g.jsx)(w,{to:"/popular-posts",children:"Popular Posts"}),"Admin"===(null===e||void 0===e?void 0:e.role)&&(0,g.jsx)(w,{to:"/pending-posts",children:"Pending Posts"}),e&&"Admin"!==(null===e||void 0===e?void 0:e.role)&&(0,g.jsx)(w,{to:"/personal-posts",children:"Your Posts"}),e&&"Admin"!==(null===e||void 0===e?void 0:e.role)&&(0,g.jsx)(w,{state:{from:t.pathname},to:"/create-new-post",children:"Create Post"}),(0,g.jsx)(w,{to:"/users-list",children:"Users"})]}),(0,g.jsxs)(f,{children:[e&&(0,g.jsx)(w,{to:"/signin",onClick:async()=>{await r.mutateAsync()},children:"Logout"}),e&&(0,g.jsx)(b,{onClick:()=>s(!0),children:"".concat(e.firstName," ").concat(e.lastName)}),!e&&(0,g.jsx)(w,{to:"/signup",children:"Sign up"}),!e&&(0,g.jsx)(w,{to:"/signin",children:"Sign in"})]}),(0,g.jsx)(m.Z,{modalIsOpen:i,setIsOpen:s,firstName:null===e||void 0===e?void 0:e.firstName,lastName:null===e||void 0===e?void 0:e.lastName,email:null===e||void 0===e?void 0:e.email,id:null===e||void 0===e?void 0:e.id,currentUser:!0})]})}},5594:(n,e,t)=>{t.d(e,{Z:()=>d});var r,a=t(168),i=t(1191),s=t(184);const o=i.ZP.div(r||(r=(0,a.Z)(["\n  color: red;\n  font-size: 0.8rem;\n  margin-top: ","px;\n"])),(n=>n.marginTop||-10)),d=n=>(0,s.jsx)(o,{marginTop:n.marginTop,children:n.children})},7487:(n,e,t)=>{t.d(e,{S:()=>s});var r=t(1933),a=t(7689);const i=t(5294).Z.create({baseURL:"https://api.teleport.org/api/cities"}),s=n=>{const e=(0,a.s0)();return(0,r.useQuery)(["cities",n],(()=>(async n=>{const{data:e}=await i.get("/?search=".concat(n));return e.count?e._embedded["city:search-results"].map((n=>({value:n.matching_full_name,label:n.matching_full_name}))):[]})(n)),{enabled:!!n,onError:n=>{var t;401===(null===(t=n.response)||void 0===t?void 0:t.status)&&e("/signin")}})}},346:(n,e,t)=>{t.r(e),t.d(e,{default:()=>q});var r=t(168),a=t(8469),i=t(1191),s=t(7689),o=t(2791),d=t(8012),l=t(7487),c=t(4190),p=t(1134),x=t(1933),u=t(9085),m=t(78);var h,g,f,b,w,v,Z,j=t(6075),y=t(4453),P=t(184);const k=i.ZP.div(h||(h=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  @media (max-width: 1100px) {\n    justify-content: center;\n    gap: 10px;\n  }\n"]))),N=(i.ZP.div(g||(g=(0,r.Z)(["\n  text-align: center;\n  color: ",";\n  border: 2px solid;\n  font-size: 1.1rem;\n  border-radius: 10px;\n  margin: 5px;\n\n  padding: 5px;\n  width: fit-content;\n"])),(n=>n.color)),i.ZP.div(f||(f=(0,r.Z)(["\n  display: flex;\n  gap: 10px;\n  align-items: center;\n  margin-top: 15px;\n  @media (max-width: 500px) {\n    justify-content: center;\n    flex-wrap: wrap;\n    gap: 10px;\n  }\n"])))),C=i.ZP.button(b||(b=(0,r.Z)(["\n  cursor: pointer;\n  font-size: 1.1rem;\n  border-radius: 10px;\n  width: 140px;\n  height: 35px;\n\n  &:hover {\n    background: rgba(0, 0, 0, 0.4);\n    font-weight: bold;\n  }\n"]))),S=i.ZP.textarea(w||(w=(0,r.Z)(["\n  // min-width: 800px;\n  // max-width: 100%;\n  min-height: 170px;\n  height: 100%;\n  width: 97%;\n\n  box-shadow: 0px 2px 16px hsl(260deg 10% 10% / 0.5);\n  border-radius: 10px;\n  border-color: transparent;\n\n  /* margin: 30px 0px; */\n  margin-top: 20px;\n\n  font-size: 1.125rem;\n\n  resize: none;\n\n  padding: 10px;\n\n  align-self: center;\n\n  @media (max-width: 750px) {\n    min-height: 100px;\n  }\n"]))),z=i.ZP.div(v||(v=(0,r.Z)(["\n  font-weight: 800;\n  font-size: 1.4rem;\n  color: black;\n  margin-bottom: 10px;\n"]))),O=i.ZP.div(Z||(Z=(0,r.Z)(["\n  overflow: scroll;\n\n  width: 50%;\n  height: 40%;\n\n  position: relative;\n  display: flex;\n  flex-direction: column;\n\n  margin: 150px 20px 1000px;\n  //   margin: auto;\n  //   top: 0;\n  //   left: 0;\n  //   right: 0;\n  //   bottom: 100px;\n\n  padding: 30px 40px 10px;\n\n  box-shadow: 0px 2px 16px hsl(260deg 50% 10% / 0.9);\n  border-radius: 10px;\n\n  background: #d9cece;\n\n  &::-webkit-scrollbar {\n    width: 0; /* Remove scrollbar space */\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n\n  @media (max-width: 1100px) {\n    align-items: center !important;\n  }\n"]))),q=n=>{const{mutateAsync:e,isLoading:t}=(n=>{const e=(0,x.useQueryClient)();return(0,x.useMutation)(m.qb,{onSuccess:n=>{let{data:t}=n;(0,u.Am)("Successfully created a new post."),e.invalidateQueries(["pending-posts"]),e.invalidateQueries(["all-posts"]),e.invalidateQueries(["user-posts"])},...n})})(),r=(0,o.useContext)(d.V),i=(0,s.s0)(),[h,g]=(0,o.useState)(""),{data:f,isLoading:b}=(0,l.S)(h),{control:w,register:v,handleSubmit:Z,formState:{errors:q}}=(0,p.cI)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(a.Z,{}),(0,P.jsx)(O,{children:(0,P.jsxs)("form",{onSubmit:Z((async n=>{await e(n),i("/all-posts")})),children:[(0,P.jsxs)(z,{children:[r.user.firstName," ",r.user.lastName]}),(0,P.jsx)(p.Qr,{name:"city",control:w,rules:{required:"City is required"},render:n=>{let{field:e}=n;return(0,P.jsx)(c.ZP,{cacheOptions:!0,placeholder:"Search by city...",options:f,isLoading:b,defaultOptions:!0,isClearable:!0,onInputChange:n=>g(n),onChange:n=>{e.onChange(null===n||void 0===n?void 0:n.value)}})}}),q.city&&(0,P.jsx)(j.Z,{children:q.city.message}),(0,P.jsx)(S,{...v("content",{required:"Content is required"}),placeholder:"Enter content"}),q.content&&(0,P.jsx)(j.Z,{children:q.content.message}),(0,P.jsx)(k,{children:(0,P.jsxs)(N,{children:[(0,P.jsx)(C,{onClick:()=>{i("/all-posts")},children:"Close"}),(0,P.jsx)(C,{type:"submit",children:t?(0,P.jsx)(y.X,{}):"Post"})]})})]})})]})}},1713:(n,e,t)=>{t.d(e,{Z:()=>z});var r=t(168),a=(t(2791),t(1134)),i=t(1191),s=t(1741),o=t(4453),d=t(6849),l=t(5594),c=t(1933),p=t(9085),x=t(7749);var u,m,h,g,f,b,w,v,Z,j=t(184);const y=i.ZP.label(u||(u=(0,r.Z)(["\n  padding-left: 5px;\n  color: rgba(0, 0, 0, 0.8);\n"]))),P=(0,i.ZP)(o.Z)(m||(m=(0,r.Z)(["\n  margin-top: 20px;\n"]))),k=i.ZP.form(h||(h=(0,r.Z)(["\n  width: 50%;\n  height: auto;\n  margin: 0 auto;\n  background-color: #ffffff;\n  border-radius: 20px;\n  text-align: center;\n  padding: 60px 100px;\n\n  box-shadow: 0px 2px 16px hsl(260deg 50% 10% / 0.99);\n"]))),N=i.ZP.div(g||(g=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 3px;\n  margin-bottom: 25px;\n"]))),C=i.ZP.input(f||(f=(0,r.Z)(["\n  border: 1px solid;\n  border-radius: 15px;\n  line-height: 1.15;\n  font-size: 1.1rem;\n  padding: 5px 15px;\n  border-color: 1px solid #c6d2d9;\n  font-family: inherit;\n\n  // width: 90%;\n  margin-left: auto;\n  margin-right: auto;\n"]))),S=(i.ZP.div(b||(b=(0,r.Z)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-wrap: wrap;\n  @media (max-width: 1100px) {\n    justify-content: center;\n    gap: 10px;\n  }\n"]))),i.ZP.div(w||(w=(0,r.Z)(["\n  text-align: center;\n  color: ",";\n  border: 2px solid;\n  font-size: 1.1rem;\n  border-radius: 10px;\n  margin: 5px;\n\n  padding: 5px;\n  width: fit-content;\n"])),(n=>n.color)),i.ZP.div(v||(v=(0,r.Z)(["\n  font-weight: 700;\n  font-size: 2rem;\n  color: black;\n  margin-bottom: 20px;\n"])))),z=(i.ZP.div(Z||(Z=(0,r.Z)(["\n  overflow: scroll;\n\n  width: 75%;\n\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n\n  padding: 30px 40px 10px;\n\n  box-shadow: 0px 2px 16px hsl(260deg 50% 10% / 0.9);\n  border-radius: 10px;\n\n  background: #d9cece;\n\n  &::-webkit-scrollbar {\n    width: 0; /* Remove scrollbar space */\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n\n  @media (max-width: 1100px) {\n    align-items: center !important;\n  }\n"]))),n=>{const e=(0,d.E)(),{modalIsOpen:t,setIsOpen:r,firstName:i,lastName:o,email:u,id:m,currentUser:h}=n,{register:g,handleSubmit:f,formState:{errors:b}}=(0,a.cI)({defaultValues:{firstName:i,lastName:o,email:u,password:""},mode:"onChange"}),{mutateAsync:w}=(n=>{const e=(0,c.useQueryClient)();return(0,c.useMutation)(x.Nq,{onSuccess:n=>{let{data:t}=n;(0,p.Am)("Profile updated."),e.invalidateQueries(["all-users"])},...n})})();return(0,j.jsx)(s.Z,{modalIsOpen:t,setIsOpen:r,children:(0,j.jsxs)(k,{onSubmit:f((async n=>{if(m){if(await w({id:m,...n,password:n.password?n.password:void 0}),h){const{data:n}=await(0,x.ar)();e.login(n)}r(!1)}})),children:[(0,j.jsx)(S,{children:"Edit Profile"}),(0,j.jsxs)(N,{children:[(0,j.jsx)(y,{htmlFor:"firstName",children:"First Name"}),(0,j.jsx)(C,{id:"firstName",...g("firstName",{required:"First name is required"})}),b.firstName&&(0,j.jsx)(l.Z,{marginTop:1,children:b.firstName.message})]}),(0,j.jsxs)(N,{children:[(0,j.jsx)(y,{htmlFor:"lastName",children:"Last Name"}),(0,j.jsx)(C,{id:"lastName",...g("lastName",{required:"Last name is required"})}),b.lastName&&(0,j.jsx)(l.Z,{marginTop:1,children:b.lastName.message})]}),(0,j.jsxs)(N,{children:[(0,j.jsx)(y,{htmlFor:"password",children:"Password"}),(0,j.jsx)(C,{type:"password",id:"password",...g("password",{validate:n=>""===n||(!(n.length<8)||"Password must be at least 8 characters long")})}),b.password&&(0,j.jsx)(l.Z,{marginTop:1,children:b.password.message})]}),(0,j.jsxs)(N,{children:[(0,j.jsx)(y,{htmlFor:"email",children:"Email"}),(0,j.jsx)(C,{type:"email",id:"email",disabled:!0,...g("email")})]}),(0,j.jsx)(P,{type:"submit",children:"Submit"})]})})})},78:(n,e,t)=>{t.d(e,{Bd:()=>i,Bx:()=>o,CP:()=>l,JP:()=>p,Lk:()=>x,fR:()=>u,n9:()=>c,qb:()=>d,xl:()=>s});var r=t(798),a=t(5523);const i=async n=>{const e=(0,a.u)(n),{data:t}=await r.h.get("/posts".concat(e));return t},s=async n=>{const{data:e}=await r.h.get("/posts/".concat(n));return e},o=async n=>{const e=(0,a.u)(n),{data:t}=await r.h.get("/posts/popular".concat(e));return t},d=async n=>{const{data:e}=await r.h.post("/posts/create",n);return e},l=async n=>{let{id:e,...t}=n;const{data:a}=await r.h.put("/posts/".concat(e),t);return a},c=async n=>{const{data:e}=await r.h.post("/posts/".concat(n,"/like"));return e},p=async n=>{const e=(0,a.u)(n),{data:t}=await r.h.get("/posts/pending"+e);return t},x=async n=>{const{data:e}=await r.h.post("/posts/".concat(n,"/verify"));return e},u=async n=>{await r.h.delete("/posts/".concat(n))}}}]);
//# sourceMappingURL=346.ee8166a5.chunk.js.map