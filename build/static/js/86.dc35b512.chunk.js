"use strict";(self.webpackChunkzav=self.webpackChunkzav||[]).push([[86],{4453:(n,e,i)=>{i.d(e,{X:()=>c,Z:()=>p});var r,s,t,a,o=i(168),d=i(1191);const l=(0,d.F4)(r||(r=(0,o.Z)(["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n"]))),c=d.ZP.div(s||(s=(0,o.Z)(["\n  border: 4px solid rgba(255, 255, 255, 0.3);\n  border-top: 4px solid black;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  animation: "," 1s linear infinite;\n  margin: 0 auto;\n"])),l),p=d.ZP.button(t||(t=(0,o.Z)(["\n  border: 1px solid;\n  border-radius: ",";\n  font-size: 1.1rem;\n  padding: 5px 15px;\n  cursor: pointer;\n  &:hover {\n    scale: 1.05;\n  }\n  &:focus {\n    background: rgba(0, 0, 0, 0.7);\n  }\n\n  ","\n"])),(n=>n.borderRadius?n.borderRadius:"15px"),(n=>n.loading&&(0,d.iv)(a||(a=(0,o.Z)(["\n      cursor: not-allowed;\n      opacity: 0.7;\n      &:hover {\n        scale: 1;\n      }\n    "])))))},1741:(n,e,i)=>{i.d(e,{Z:()=>o});var r=i(7948),s=i.n(r),t=i(184);const a={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.5)"}},o=n=>{let{children:e,...i}=n;const{modalIsOpen:r,setIsOpen:o}=i;return(0,t.jsx)(s(),{isOpen:r,onRequestClose:function(){o(!1)},style:a,contentLabel:"Example Modal",children:e})}},8469:(n,e,i)=>{i.d(e,{Z:()=>w});var r=i(168),s=i(7689),t=i(1087),a=i(1191),o=i(6849),d=i(1933),l=i(7749);var c,p,x,u,m=i(1713),g=i(2791),h=i(184);const f=a.ZP.div(c||(c=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n"]))),b=a.ZP.button(p||(p=(0,r.Z)(["\n  background-color: transparent;\n  cursor: pointer;\n  border-radius: 10px;\n  color: #ffffff;\n  text-decoration: none;\n  padding: 10px 5px;\n  margin: 0px 20px;\n  font-size: 1.25rem;\n\n  &:hover {\n    color: #b392ee;\n    scale: 1.1;\n    // font-weight: bold;\n  }\n  &:focus {\n    /* text-decoration: underline; */\n    border: 2px solid black;\n    border-radius: 10px;\n    font-weight: bold;\n  }\n"]))),v=(0,a.ZP)(t.rU)(x||(x=(0,r.Z)(["\n  color: #ffffff;\n  text-decoration: none;\n  padding: 10px 5px;\n  margin: 0px 20px;\n  font-size: 1.25rem;\n\n  &:hover {\n    color: #b392ee;\n    scale: 1.1;\n    // font-weight: bold;\n  }\n  &:focus {\n    /* text-decoration: underline; */\n    border: 2px solid black;\n    border-radius: 10px;\n    font-weight: bold;\n  }\n"]))),j=a.ZP.div(u||(u=(0,r.Z)(["\n  background: #343a40;\n  padding: 2px 12px;\n  color: #ffffff;\n  width: 100%;\n  position: fixed;\n  z-index: 2;\n  height: 3.5rem;\n  box-shadow: 0 7px 12px 0 rgba(0, 0, 0, 0.2);\n\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),w=n=>{const e=(0,o.E)().user,i=(0,s.TH)(),r=(()=>{const n=(0,o.E)();return(0,d.useMutation)(l.TX,{onError:n=>{},onSuccess:e=>{let{data:i}=e;n.logout()}})})(),[t,a]=(0,g.useState)(!1);return(0,h.jsxs)(j,{children:[(0,h.jsxs)("span",{children:[(0,h.jsx)(v,{to:"/all-posts",children:"All Posts"}),(0,h.jsx)(v,{to:"/popular-posts",children:"Popular Posts"}),"Admin"===(null===e||void 0===e?void 0:e.role)&&(0,h.jsx)(v,{to:"/pending-posts",children:"Pending Posts"}),e&&"Admin"!==(null===e||void 0===e?void 0:e.role)&&(0,h.jsx)(v,{to:"/personal-posts",children:"Your Posts"}),e&&"Admin"!==(null===e||void 0===e?void 0:e.role)&&(0,h.jsx)(v,{state:{from:i.pathname},to:"/create-new-post",children:"Create Post"}),(0,h.jsx)(v,{to:"/users-list",children:"Users"})]}),(0,h.jsxs)(f,{children:[e&&(0,h.jsx)(v,{to:"/signin",onClick:async()=>{await r.mutateAsync()},children:"Logout"}),e&&(0,h.jsx)(b,{onClick:()=>a(!0),children:"".concat(e.firstName," ").concat(e.lastName)}),!e&&(0,h.jsx)(v,{to:"/signup",children:"Sign up"}),!e&&(0,h.jsx)(v,{to:"/signin",children:"Sign in"})]}),(0,h.jsx)(m.Z,{modalIsOpen:t,setIsOpen:a,firstName:null===e||void 0===e?void 0:e.firstName,lastName:null===e||void 0===e?void 0:e.lastName,email:null===e||void 0===e?void 0:e.email,id:null===e||void 0===e?void 0:e.id,currentUser:!0})]})}},5594:(n,e,i)=>{i.d(e,{Z:()=>d});var r,s=i(168),t=i(1191),a=i(184);const o=t.ZP.div(r||(r=(0,s.Z)(["\n  color: red;\n  font-size: 0.8rem;\n  margin-top: ","px;\n"])),(n=>n.marginTop||-10)),d=n=>(0,a.jsx)(o,{marginTop:n.marginTop,children:n.children})},1713:(n,e,i)=>{i.d(e,{Z:()=>T});var r=i(168),s=(i(2791),i(1134)),t=i(1191),a=i(1741),o=i(4453),d=i(6849),l=i(5594),c=i(1933),p=i(9085),x=i(7749);var u,m,g,h,f,b,v,j,w,Z=i(184);const A=t.ZP.label(u||(u=(0,r.Z)(["\n  padding-left: 5px;\n  color: rgba(0, 0, 0, 0.8);\n"]))),N=(0,t.ZP)(o.Z)(m||(m=(0,r.Z)(["\n  margin-top: 20px;\n"]))),P=t.ZP.form(g||(g=(0,r.Z)(["\n  width: 50%;\n  height: auto;\n  margin: 0 auto;\n  background-color: #ffffff;\n  border-radius: 20px;\n  text-align: center;\n  padding: 60px 100px;\n\n  box-shadow: 0px 2px 16px hsl(260deg 50% 10% / 0.99);\n"]))),y=t.ZP.div(h||(h=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  gap: 3px;\n  margin-bottom: 25px;\n"]))),k=t.ZP.input(f||(f=(0,r.Z)(["\n  border: 1px solid;\n  border-radius: 15px;\n  line-height: 1.15;\n  font-size: 1.1rem;\n  padding: 5px 15px;\n  border-color: 1px solid #c6d2d9;\n  font-family: inherit;\n\n  // width: 90%;\n  margin-left: auto;\n  margin-right: auto;\n"]))),E=(t.ZP.div(b||(b=(0,r.Z)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-wrap: wrap;\n  @media (max-width: 1100px) {\n    justify-content: center;\n    gap: 10px;\n  }\n"]))),t.ZP.div(v||(v=(0,r.Z)(["\n  text-align: center;\n  color: ",";\n  border: 2px solid;\n  font-size: 1.1rem;\n  border-radius: 10px;\n  margin: 5px;\n\n  padding: 5px;\n  width: fit-content;\n"])),(n=>n.color)),t.ZP.div(j||(j=(0,r.Z)(["\n  font-weight: 700;\n  font-size: 2rem;\n  color: black;\n  margin-bottom: 20px;\n"])))),T=(t.ZP.div(w||(w=(0,r.Z)(["\n  overflow: scroll;\n\n  width: 75%;\n\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n\n  padding: 30px 40px 10px;\n\n  box-shadow: 0px 2px 16px hsl(260deg 50% 10% / 0.9);\n  border-radius: 10px;\n\n  background: #d9cece;\n\n  &::-webkit-scrollbar {\n    width: 0; /* Remove scrollbar space */\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n\n  @media (max-width: 1100px) {\n    align-items: center !important;\n  }\n"]))),n=>{const e=(0,d.E)(),{modalIsOpen:i,setIsOpen:r,firstName:t,lastName:o,email:u,id:m,currentUser:g}=n,{register:h,handleSubmit:f,formState:{errors:b}}=(0,s.cI)({defaultValues:{firstName:t,lastName:o,email:u,password:""},mode:"onChange"}),{mutateAsync:v}=(n=>{const e=(0,c.useQueryClient)();return(0,c.useMutation)(x.Nq,{onSuccess:n=>{let{data:i}=n;(0,p.Am)("Profile updated."),e.invalidateQueries(["all-users"])},...n})})();return(0,Z.jsx)(a.Z,{modalIsOpen:i,setIsOpen:r,children:(0,Z.jsxs)(P,{onSubmit:f((async n=>{if(m){if(await v({id:m,...n,password:n.password?n.password:void 0}),g){const{data:n}=await(0,x.ar)();e.login(n)}r(!1)}})),children:[(0,Z.jsx)(E,{children:"Edit Profile"}),(0,Z.jsxs)(y,{children:[(0,Z.jsx)(A,{htmlFor:"firstName",children:"First Name"}),(0,Z.jsx)(k,{id:"firstName",...h("firstName",{required:"First name is required"})}),b.firstName&&(0,Z.jsx)(l.Z,{marginTop:1,children:b.firstName.message})]}),(0,Z.jsxs)(y,{children:[(0,Z.jsx)(A,{htmlFor:"lastName",children:"Last Name"}),(0,Z.jsx)(k,{id:"lastName",...h("lastName",{required:"Last name is required"})}),b.lastName&&(0,Z.jsx)(l.Z,{marginTop:1,children:b.lastName.message})]}),(0,Z.jsxs)(y,{children:[(0,Z.jsx)(A,{htmlFor:"password",children:"Password"}),(0,Z.jsx)(k,{type:"password",id:"password",...h("password",{validate:n=>""===n||(!(n.length<8)||"Password must be at least 8 characters long")})}),b.password&&(0,Z.jsx)(l.Z,{marginTop:1,children:b.password.message})]}),(0,Z.jsxs)(y,{children:[(0,Z.jsx)(A,{htmlFor:"email",children:"Email"}),(0,Z.jsx)(k,{type:"email",id:"email",disabled:!0,...h("email")})]}),(0,Z.jsx)(N,{type:"submit",children:"Submit"})]})})})},3086:(n,e,i)=>{i.r(e),i.d(e,{default:()=>T});var r=i(168),s=i(8469),t=i(1191),a=i(1198),o=i(4453),d=i(1933),l=i(9085),c=i(7749);var p,x,u,m=i(6849),g=i(2791),h=i(1713),f=i(184);const b=t.ZP.div(p||(p=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n"]))),v=t.ZP.div(x||(x=(0,r.Z)(["\n  width: 220px;\n  height: 200px;\n\n  background: rgb(139, 134, 221);\n  background: linear-gradient(\n    180deg,\n    rgba(139, 134, 221, 1) 0%,\n    rgba(206, 150, 241, 1) 35%\n  );\n\n  border-radius: 20px;\n\n  padding: 10px 40px;\n  margin: 20px 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n"]))),j=t.ZP.div(u||(u=(0,r.Z)(["\n  font-weight: bold;\n  font-size: 1.3rem;\n  color: rgba(0, 0, 0);\n\n  display: flex;\n  align-items: center;\n  gap: 2%;\n"]))),w=n=>{const e=(0,m.E)().user,{mutateAsync:i,isLoading:r}=(n=>{const e=(0,d.useQueryClient)();return(0,d.useMutation)(c.h8,{onSuccess:()=>{(0,l.Am)("User successfully removed."),e.invalidateQueries(["all-users"]),e.invalidateQueries(["pending-posts"]),e.invalidateQueries(["popular-posts"]),e.invalidateQueries(["all-posts"]),e.invalidateQueries(["user-posts"])},...n})})(),[s,t]=(0,g.useState)(!1);return(0,f.jsxs)(v,{children:[(0,f.jsxs)(j,{children:[(0,f.jsx)("img",{src:a,style:{width:"50px",borderRadius:"50%"},alt:"Avatar"}),n.name+" "+n.surname]}),(0,f.jsxs)("div",{children:["Email: ",(0,f.jsx)("strong",{children:n.email})]}),"Admin"===(null===e||void 0===e?void 0:e.role)&&(0,f.jsxs)(b,{children:[(0,f.jsx)(o.Z,{onClick:async()=>{await i(n.id)},children:r?(0,f.jsx)(o.X,{}):"Delete"}),(0,f.jsx)(o.Z,{onClick:()=>t(!0),children:"Edit"})]}),(0,f.jsx)(h.Z,{modalIsOpen:s,setIsOpen:t,firstName:null===n||void 0===n?void 0:n.name,lastName:null===n||void 0===n?void 0:n.surname,email:null===n||void 0===n?void 0:n.email,id:null===n||void 0===n?void 0:n.id,currentUser:!0})]})};var Z=i(2733),A=i(7689);var N,P,y=i(7834);const k=t.ZP.div(N||(N=(0,r.Z)(["\n  color: rgba(0, 0, 0, 0.9);\n  position: absolute;\n  top: -5px;\n  font-style: italic;\n  width: fit-content;\n  margin: 10px auto;\n  font-weight: 400;\n  font-size: 1.3rem;\n"]))),E=t.ZP.div(P||(P=(0,r.Z)(["\n  overflow: scroll;\n\n  min-width: 80vw;\n  min-height: 80vh;\n\n  margin: 6% 5%;\n  padding: 20px 14px;\n\n  box-shadow: 0px 2px 16px hsl(260deg 50% 10% / 0.9);\n  border-radius: 10px;\n\n  position: relative;\n\n  background: #d9cece;\n\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n\n  &::-webkit-scrollbar {\n    width: 0; /* Remove scrollbar space */\n    background: transparent; /* Optional: just make scrollbar invisible */\n  }\n\n  @media (max-width: 700px) {\n    margin: 13% 5%;\n  }\n"]))),T=()=>{const{isAuthenticated:n}=(0,y.a)(),{data:e,isLoading:i}=(()=>{var n;const e=(0,A.s0)(),i=(0,m.E)();return(0,d.useQuery)(["all-users",null===i||void 0===i||null===(n=i.user)||void 0===n?void 0:n.id],c.AW,{onError:n=>{var i;401===(null===(i=n.response)||void 0===i?void 0:i.status)&&e("/signin")}})})();return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{}),i&&(0,f.jsx)(Z.Z,{}),(0,f.jsxs)(E,{children:[!n&&(0,f.jsx)(k,{children:"Users with the most posts"}),null===e||void 0===e?void 0:e.map((n=>(0,f.jsx)(w,{name:n.firstName,surname:n.lastName,email:n.email,id:n._id},n.email)))]})]})}},1198:n=>{n.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=86.dc35b512.chunk.js.map